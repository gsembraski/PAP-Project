<form name="form" ng-submit="vm.salvar(form)" novalidate>
	<div class="modal-header">
	
		<div class="row">
			<div class="col-xs-6">	
				<h3>Usuário - {{vm.operacao}}</h3>
			</div>
			
			<div class="col-xs-6 text-right">
				<i class="fa fa-times" aria-hidden="true" ng-click="vm.cancelar()"></i>
			</div>
		</div>
	</div>
	
	<div class="modal-body">
		<div class="row">
			<div class="col-xs-12">
				<div class="form-group" ng-class="{ 'has-error': form.$submitted && form.inputNome.$invalid}">
					<label for="inputNome" class="control-label">Nome</label>
					<input type="text" id="inputNome" name="inputNome"
						class="form-control" maxlength="200" ng-model="vm.item.nome"
						ng-required="true" 
						focus/>
					<p ng-show="form.$submitted && form.inputNome.$invalid" class="help-block">Campo obrigatório</p>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-xs-12">
				<div class="form-group" ng-class="{ 'has-error': form.$submitted && form.inputNome.$invalid}">
					<label for="inputSobrenome" class="control-label">Sobrenome</label>
					<input type="text" 
						   id="inputSobrenome" 
						   name="inputSobrenome" 
						   class="form-control" 
						   maxlength="200" 
						   ng-model="vm.item.sobrenome" 
						   ng-required="true" />
					<p ng-show="form.$submitted && form.inputSobrenome.$invalid" class="help-block">Campo obrigatório</p>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-xs-12">
				<div class="form-group" ng-class="{ 'has-error': form.$submitted && form.inputNome.$invalid}">
					<label for="inputEmail" class="control-label">E-mail</label>
					<div class="input-group"> 
						<input type="text" 
							   id="inputEmail" 
							   name="inputEmail" 
							   class="form-control"
							   maxlength="100" 
							   ng-model="vm.item.email" 
							   ng-required="true" />
						<span class="input-group-addon" id="basic-addon1"><i class="fa fa-at" aria-hidden="true"></i></span>
					</div>
					<p ng-show="form.$submitted && form.inputEmail.$invalid" class="help-block">Campo obrigatório</p>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-xs-12">
				<div class="form-group" ng-class="{ 'has-error': form.$submitted && (form.inputConfirmaSenha.$invalid || (!vm.verificaSenha() && vm.temSenha()))}">
					<label for="inputSenha" class="control-label">Senha</label>
					<div class="input-group"> 
						<input type="password" 
							   id="inputSenha" 
							   name="inputSenha" 
							   class="form-control"
							   minlength="8"
							   maxlength="20" 
							   ng-model="vm.item.senha" 
							   ng-required="true" />
						<span class="input-group-addon" id="basic-addon1"><i class="fa fa-lock" aria-hidden="true"></i></span>
					</div>
						<p ng-show="form.$submitted && form.inputConfirmaSenha.$invalid" class="help-block">Senha inválida</p>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-xs-12">
				<div class="form-group" ng-class="{ 'has-error': form.$submitted && (form.inputConfirmaSenha.$invalid || (!vm.verificaSenha() && vm.temSenha()))}">
					<label for="inputConfirmaSenha" class="control-label">Confirmação de senha</label>
						<input type="password" 
							   id="inputConfirmaSenha" 
							   name="inputConfirmaSenha" 
							   class="form-control"
							   minlength="8"
							   maxlength="20"
							   ng-model="vm.confirmacaoSenha" 
							   ng-required="true" />
						<p ng-show="form.$submitted && form.inputConfirmaSenha.$invalid" class="help-block">Confirmação de senha inválida</p>
						<p ng-show="form.$submitted && !vm.verificaSenha() && vm.temSenha()" class="help-block">Senhas não correspondem</p>
				</div>
			</div>
		</div>
		<div ng-show="vm.hasError">
			<alert type="alert-error"  close="closeAlert($index)">{{vm.mensagem}}</alert>
		</div>
		<div ng-show="vm.success">
			<alert type="success"  close="closeAlert($index)">{{vm.mensagem}}</alert>
		</div>
	</div>
	<div class="modal-footer">
	
		<button type="submit"
				class="btn btn-success"
				ng-disabled="form.$submitted && (form.$invalid || !vm.verificaSenha())"> 
				Salvar <i class="fa fa-check" aria-hidden="true"></i>
		</button>
		
		<button type="button"
				class="btn btn-default"
				ng-click="vm.cancelar()">
				Cancelar <i class="fa fa-times" aria-hidden="true"></i>
		</button>
	</div>
</form>