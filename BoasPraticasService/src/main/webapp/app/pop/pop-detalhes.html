<div  ng-if="vm.verificaNumPopValido()">
	<div class="row">
		<div class="col-xs-12">
			<div class="form-group">
			    <fieldset>
					<legend><h4  style="line-height: 2.5" class="h1-custumer">{{vm.operacao}} POP - {{vm.popDescricao}}</h4></legend>
				</fieldset>
			</div>
		</div>
	</div>
	
	<form name="form" ng-submit="vm.salvar(form)" novalidate>
	
		<div class="row">
			<div class="col-xs-12">
				<div class="form-group">
							<button type="submit"
									class="btn btn-success"
									ng-disabled="form.$submitted && form.$invalid"> 
									Salvar <i class="fa fa-check" aria-hidden="true"></i>
							</button>
							
							<button type="button"
									class="btn btn-default"
									ng-click="vm.cancelar()">
									Cancelar <i class="fa fa-times" aria-hidden="true"></i>
							</button>
				</div>
			</div>
		</div>		
		
		<!-- Componente empresa -->
		<div class="row" ng-if="vm.operacao === 'Cadastrar'">
			<div class="col-xs-4">
				<div class="form-group">				
					<empresa-selecao ng-model="vm.empresaId" item-selecionado="vm.empresa" ng-change="vm.iniciePop()"></empresa-selecao>
				</div>
			</div>
		</div>
		
		<div class="alert alert-warning" role="alert" ng-if="!vm.empresaId && vm.operacao === 'Cadastrar'">Selecione uma empresa para continuar.</div>
		
		<div ng-if="vm.podeVisualizar()">
			<div class="alert alert-info" role="alert">Para preencher o POP de {{vm.popDescricao}} click no icone <i class="fa fa-chevron-down"></i>.</div>
			
			<div ng-if="vm.popNum == 1">
				<div ng-include="'app/pop/templates/pop1.template.html'"></div>
			</div>
			
			<div ng-if="vm.popNum == 2">
				<div ng-include="'app/pop/templates/pop2.template.html'"></div>
			</div>
			
			<div ng-if="vm.popNum == 3">
				<div ng-include="'app/pop/templates/pop3.template.html'"></div>
			</div>
			
			<div ng-if="vm.popNum == 4">
				<div ng-include="'app/pop/templates/pop4.template.html'"></div>
			</div>
		</div>
	</form>
</div>

<div class="row" ng-if="!vm.verificaNumPopValido()">
	<div class="col-xs-12">	
		<div class="alert alert-danger" role="alert" ng-if="!vm.temPopSelecionado()">Nenhum Processo Operacional Padronizado corresponde a URL</div>
	</div>
</div>